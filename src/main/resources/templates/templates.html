<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Exposed Records</title>

    <!-- Bootstrap -->
    <link href="../static/css/bootstrap.min.css" th:href="@{~/css/bootstrap.min.css}" rel="stylesheet"/>

    <!-- Custom styles for this template -->
    <link href="../static/css/default.css" th:href="@{~/css/default.css}" rel="stylesheet"/>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
      <div class="site-wrapper">

      <div class="site-wrapper-inner">

      <div th:fragment="header" class="brand">Exposed Records</div>

      <nav th:fragment="navbar" class="navbar navbar-default" role="navigation">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <!-- navbar-brand is hidden on larger screens, but visible when the menu is collapsed -->
                <a class="navbar-brand" href="#home">Exposed Records</a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav" th:remove="all-but-first">
                    <li th:each="menuItem : ${menuItems}" th:classappend="${page == menuItem}? 'active'">
                        <a href="#home" th:href="@{${menuItem == menuItems[0] ? '~/' : '~/' + menuItem}}" th:text="#{${'theader.nav.' + menuItem}}">Home</a>
                    </li>
                    <li>
                        <a href="#subscription">Demand Vinyl</a>
                    </li>
                    <li>
                        <a href="#contact">Contact</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
      </nav>

      <div th:fragment="home" class="container">
        <div class="row">
            <div class="box">
                <div class="col-lg-12">
                    <hr/>
                    <h2 class="intro-text text-center">Demo Tracks
                    </h2>
                    <hr/>
                    <p class="lead"><iframe width="100%" height="166" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/174682724&amp;color=ff5500&amp;auto_play=false&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false"></iframe></p>
			        <div class="lead">
			          <div style="float:left">
			            <a href="https://exposedrecords.bandcamp.com/" rel="nofollow" target="_blank">
			            	<img width="32" height="32" src="../static/images/bandcamp.png" th:src="@{~/images/bandcamp.png}"  alt="Follow us on BandCamp" title="Follow us on BandCamp" />
						</a>
			            <a href="https://www.facebook.com/pages/Exposed-Records/280587362151406" rel="nofollow" target="_blank">
			            	<img width="32" height="32" src="../static/images/facebook.png" th:src="@{~/images/facebook.png}" alt="Follow us on Facebook " title="Follow us on Facebook" />
						</a>
			            <a href="https://twitter.com/exposed_records" rel="nofollow" target="_blank">
			            	<img width="32" height="32" src="../static/images/twitter.png" th:src="@{~/images/twitter.png}"  alt="Follow us on Twitter" title="Follow us on Twitter" />
			            </a>
			            <a href="https://soundcloud.com/exposedrecords" rel="nofollow" target="_blank">
			            	<img width="32" height="32" src="../static/images/soundcloud.png" th:src="@{~/images/soundcloud.png}" alt="Follow us on SoundCloud" title="Follow us on SoundCloud" />
			            </a>
			            <a href="http://www.mixcloud.com/exposedrecords/" rel="nofollow" target="_blank">
			                <img width="32" height="32" src="../static/images/mixcloud.png" th:src="@{~/images/mixcloud.png}" alt="Follow us on MixCloud" title="Follow us on MixCloud" />
			            </a>
			          </div>
			          <div style="float:right"> 
			               <a href="#subscription" th:href="@{~/subscription}" class="btn btn-md btn-success">I want this on vinyl!</a>
			          </div>
			        </div>
			    </div>
            </div>
        </div>
      </div>

      <div th:fragment="subscription" class="container">
        <div class="row">
            <div class="box">
                <div class="col-lg-12">
                    <hr/>
                    <h2 class="intro-text text-center">Vinyl Releases
                    </h2>
                    <hr/>
                    
        <div th:if="${exception != null}" class="alert alert-danger" role="alert">
            We are currently experiencing problems with our subscription service.<br/>
            Please be patient and try again later.
        </div>
        <div th:if="${subscription == null}">
            <p class="lead"><img class="img-responsive img-border img-left" src="../static/images/fzm-Vinyl.Records-pic-22_200x200.jpg" th:src="@{~/images/fzm-Vinyl.Records-pic-22_200x200.jpg}" />
            We are currently working hard on our first vinyl release.<br/>
            Show us your support by subscribing to our mailing list!</p>
            <form id="subscriptionForm" action="subscribe" method="post">
	            <p class="input-group">
	                <input name="email" type="email" class="form-control" placeholder="your-email@domain.com" required="required" />
	                <span class="input-group-btn">
	                   <button class="btn btn-default" type="submit">Subscribe!</button>
	                </span>
	            </p>
            </form>
            <p><small><i>Don't worry, we won't spam you with any irrelevant messages or give away your data to any 3rd parties.<br/>
            This is only for letting you know, when our records hit the stores.</i></small></p>
        </div>
        <div th:if="${subscription != null and not subscription.verified}">
            <p class="lead"><img class="img-responsive img-border img-left" src="../static/images/fzm-Vinyl.Records-pic-02_200x200.jpg" th:src="@{~/images/fzm-Vinyl.Records-pic-02_200x200.jpg}" />
            Verification link has been sent to email address you provided.
            </p>
            <form id="subscriptionForm" method="post" action="unsubscribe">
                <input name="sId" type="hidden" th:value="${subscription.id}" />
                <button class="btn btn-default" type="submit">Unsubscribe</button>
            </form>
        </div>
        <div th:if="${subscription != null and subscription.verified}">
            <p class="lead"><img class="img-responsive img-border img-left" src="../static/images/fzm-Vinyl.Records-pic-01g_200x200.jpg" th:src="@{~/images/fzm-Vinyl.Records-pic-01g_200x200.jpg}" />
            Thany you! You've successfully subscribed to our mailing list.<br/>
            We will notify you as soon as our records hit the stores.
            </p>
            <form id="subscriptionForm" method="post" action="unsubscribe">
                <input name="sId" type="hidden" th:value="${subscription.id}" />
                <button class="btn btn-default" type="submit">Unubscribe</button>
            </form>
        </div>
        </div>
        </div>
        </div>
      </div>

      <div th:fragment="contact" class="container">
          <div class="row">
            <div class="box">
                <div class="col-lg-12">
                    <hr/>
                    <h2 class="intro-text text-center">Contact
                    </h2>
                    <hr/>
                    
        <p class="lead">
          Email us at <a href="mailto:staff@exposedrecords.net">exposedrecords.net</a>
        </p>
        
        </div>
        </div>
        </div>
      </div>

      <footer th:fragment="footer" class="mastfoot">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <p>&copy; ExposedRecords.net 2015</p>
                </div>
            </div>
        </div>
      </footer>
      </div>
    </div>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="../static/js/jquery.js"></script>

    <!-- small js to keep templates functional and similar to deployed app -->
    <!-- make sure it comes before bootstrap js to enforce it's rules on collapse -->
    <script th:remove="all">
    // <![CDATA[
    $(document).ready(function() {
    	// show/hide on navbar click
        $('#mainMenu li a').click(function() {
        	updateActiveMenuItem($(this));
        	showContentByLink($(this).attr('href'));
        	//$('.active').text($(this).text());
        });

        // show item form hash or fallback to home
        hash = window.location.hash || '#home';        
   		$('#mainMenu li a[href=' + hash + ']').click();
    });

    isContentDiv = function() {
    	return $(this).attr('th:fragment') 
    		&& $(this).attr('th:fragment') != 'footer' 
    		&&  $(this).attr('th:fragment') != 'navbar' 
    };

    // set as active clicked item
    updateActiveMenuItem = function(item) {
		item.parent().siblings().removeClass('active');
		item.parent().addClass('active');
		/*$('.navbar-collapse').collapse('hide');*/
    };

	// show selected content item and hide others
    showContentByLink = function(lnk) {
    	$('div').filter(isContentDiv).each(function() {       		
    	     if ('#' + $(this).attr('th:fragment') == lnk) {        	    	 
    	    	 $(this).show();	 
    	     } else {
    	    	 $(this).hide();
    	     }
        });    	
    }
 	// ]]>
    </script>

    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="../static/js/bootstrap.js"></script>
  </body>
</html>
