<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Exposed Records</title>

    <!-- Bootstrap -->
    <link href="../../css/bootstrap.min.css" rel="stylesheet"/>

    <!-- Custom styles for this template -->
    <link href="../../css/default.css" rel="stylesheet"/>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="site-wrapper">

      <div class="site-wrapper-inner">

        <div class="cover-container">
          <div th:fragment="navbar" class="masthead clearfix">
            <div class="inner">
              <h3 class="masthead-brand">
                <img src="../../images/exposed_logo01_190x190_tr.png" th:src="@{~/images/exposed_logo01_190x190_tr.png}" style="width: 190px;height: 190 px" alt="Exposed Records" title="Exposed Records" />
              </h3>
              <ul class="nav masthead-nav" id="mainMenu" th:remove="all-but-first">
                <li th:each="menuItem : ${menuItems}" th:classappend="${page == menuItem}? 'active'">                
                  <a href="#home" th:href="@{${menuItem == menuItems[0] ? '~/' : '~/' + menuItem}}" th:text="#{${'theader.nav.' + menuItem}}">Home</a>                
                </li>
                <li><a href="#demandVinyl">Demand Vinyl</a></li>
                <li><a href="#contact">Contact</a></li>
              </ul>
            </div>
          </div>

          <div th:fragment="home" class="inner cover">
            <h1 class="cover-heading">Exposed Records</h1>
            <p class="lead"><iframe width="100%" height="166" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/174682724&amp;color=ff5500&amp;auto_play=false&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false"></iframe></p>
            <div class="lead">
              <div style="float:left">
                <a href="https://exposedrecords.bandcamp.com/" rel="nofollow" target="_blank">
                	<img width="32" height="32" src="../../images/bandcamp.png" th:src="@{~/images/bandcamp.png}"  alt="Follow us on BandCamp" title="Follow us on BandCamp" />
				</a>
                <a href="https://www.facebook.com/pages/Exposed-Records/280587362151406" rel="nofollow" target="_blank">
                	<img width="32" height="32" src="../../images/facebook.png" th:src="@{~/images/facebook.png}" alt="Follow us on Facebook " title="Follow us on Facebook" />
				</a>
                <a href="https://twitter.com/exposed_records" rel="nofollow" target="_blank">
                	<img width="32" height="32" src="../../images/twitter.png" th:src="@{~/images/twitter.png}"  alt="Follow us on Twitter" title="Follow us on Twitter" />
                </a>
                <a href="https://soundcloud.com/exposedrecords" rel="nofollow" target="_blank">
                	<img width="32" height="32" src="../../images/soundcloud.png" th:src="@{~/images/soundcloud.png}" alt="Follow us on SoundCloud" title="Follow us on SoundCloud" />
                </a>
                <a href="http://www.mixcloud.com/exposedrecords/" rel="nofollow" target="_blank">
                    <img width="32" height="32" src="../../images/mixcloud.png" th:src="@{~/images/mixcloud.png}" alt="Follow us on MixCloud" title="Follow us on MixCloud" />
                </a>
              </div>
              <div style="float:right"> 
                   <a href="#demandVinyl" th:href="@{~/demandVinyl}" class="btn btn-md btn-success">I want this on vinyl!</a>
              </div>
            </div>
          </div>

          <div th:fragment="demandVinyl" class="inner cover">
            <h1 class="cover-heading">Demand Vinyl</h1>
            <div th:if="${subscription == null}">
	            <p class="lead">Our music is not released on vinyl yet, but it will be soon.<br/>
	            Please, show us your support by subscribing to our mailing list!</p>
	            <form id="subscriptionForm" action="subscribe" method="post">
		            <p class="input-group">
		                <input name="email" type="email" class="form-control" placeholder="your-email@domain.com" required="required" />
		                <span class="input-group-btn">
		                   <button class="btn btn-default" type="submit">Subscribe!</button>
		                </span>
		            </p>
	            </form>
	            <p>Don't worry, we won't spam you with irrelevant messages or give away your address to any 3rd parties, just let you know, when our records hit the stores.</p>
            </div>
            <div th:if="${subscription != null and not subscription.verified}">
                <p>Thank you for subscribing to our release notes!<br/>
                Verification link has been sent to email address you provided.
                </p>
	            <form id="subscriptionForm" method="post" action="unsubscribe">
	                <input name="sId" type="hidden" th:value="${subscription.id}" />
	                <button class="btn btn-default" type="submit">Unsubscribe</button>
	            </form>
            </div>
            <div th:if="${subscription != null and subscription.verified}">
                <p>Our music is not released on vinyl yet, but it will be soon.<br/>
                We will notify you as soon as our records hit the stores.
                </p>
	            <form id="subscriptionForm" method="post" action="unsubscribe">
	                <input name="sId" type="hidden" th:value="${subscription.id}" />
	                <button class="btn btn-default" type="submit">Unubscribe</button>
	            </form>
            </div>
          </div>

          <div th:fragment="contact" class="inner cover">
            <h1 class="cover-heading">Contact</h1>
            <p class="lead">
              Email us at <a href="mailto:staff@exposedrecords.net">exposedrecords.net</a>
            </p>
          </div>

          <div th:fragment="footer" class="mastfoot">
            <div class="inner">
              <p>&copy; ExposedRecords.net 2014</p>
            </div>
          </div>

        </div>
      </div>
    </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="../../js/jquery.js"></script>

    <!-- small js to keep templates functional and similar to deployed app -->
    <!-- make sure it comes before bootstrap js to enforce it's rules on collapse -->
    <script th:remove="all">
    // <![CDATA[
    $(document).ready(function() {
    	// show/hide on navbar click
        $('#mainMenu li a').click(function() {
        	updateActiveMenuItem($(this));
        	showContentByLink($(this).attr('href'));
        	//$('.active').text($(this).text());
        });

        // show item form hash or fallback to home
        hash = window.location.hash || '#home';        
   		$('#mainMenu li a[href=' + hash + ']').click();
    });

    isContentDiv = function() {
    	return $(this).attr('th:fragment') 
    		&& $(this).attr('th:fragment') != 'footer' 
    		&&  $(this).attr('th:fragment') != 'navbar' 
    };

    // set as active clicked item
    updateActiveMenuItem = function(item) {
		item.parent().siblings().removeClass('active');
		item.parent().addClass('active');
		/*$('.navbar-collapse').collapse('hide');*/
    };

	// show selected content item and hide others
    showContentByLink = function(lnk) {
    	$('div').filter(isContentDiv).each(function() {       		
    	     if ('#' + $(this).attr('th:fragment') == lnk) {        	    	 
    	    	 $(this).show();	 
    	     } else {
    	    	 $(this).hide();
    	     }
        });    	
    }
 	// ]]>
    </script>

    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="../../js/bootstrap.js"></script>
  </body>
</html>
